[General]
network = uav_rid.rid_network.BasicUav

*.radioMedium.obstacleLoss.typename = "DielectricObstacleLoss"

# Network node visualization
*.visualizer.osgVisualizer.networkNodeVisualizer.displayModuleName = true

# Mobility trail visualization (increase for longer trails)
*.visualizer.*.mobilityVisualizer.displayMovementTrails = true
*.visualizer.*.mobilityVisualizer.trailLength = 500

# Enable vector recording for all management layer data
*.host[*].wlan[0].mgmt.statistic-recording = true


# ==============================================================================
# Base configuration for urbanenv testing
# ==============================================================================
[Config UrbanEnvBase]
# Use TurtleMobility to follow waypoints from XML file
*.host[*].mobility.typename = "TurtleMobility"
*.host[*].mobility.updateInterval = 100ms

# Enable position vector recording
*.host[*].mobility.statistic-recording = true

# All hosts use KalmanFilterDetectHost
*.host[*].typename = "KalmanFilterDetectHost"
*.host[*].wlan[0].mgmt.transmitBeacon = true
*.host[*].wlan[0].mgmt.startupJitter = uniform(0ms, 100ms)

# Randomized beacon interval (250-750ms)
*.host[*].wlan[0].mgmt.beaconInterval = uniform(0.25s, 0.75s)

# Randomized transmission power (10-16 dBm)
*.host[*].wlan[0].radio.transmitter.power = uniform(10dBm, 16dBm)

# Serial numbers
*.host[*].wlan[0].mgmt.serialNumber = ancestorIndex(2)


# ==============================================================================
# Scenario 1: Simple 2x2 Grid (no buildings)
# - 2 EW + 2 NS corridors, 20m wide, 120m spacing
# - 5 hosts
# - No physical environment (open sky)
# ==============================================================================
[Config Scenario1_Simple2x2]
extends = UrbanEnvBase
description = "Simple 2x2 corridor grid, 5 hosts, no buildings"

sim-time-limit = 300s
*.numHosts = 5

# No physical environment
*.physicalEnvironment.config = xml("<environment/>")

# Load trajectories
*.host[0].mobility.turtleScript = xmldoc("scenario1_waypoints.xml", "movements/movement[@id='0']")
*.host[1].mobility.turtleScript = xmldoc("scenario1_waypoints.xml", "movements/movement[@id='1']")
*.host[2].mobility.turtleScript = xmldoc("scenario1_waypoints.xml", "movements/movement[@id='2']")
*.host[3].mobility.turtleScript = xmldoc("scenario1_waypoints.xml", "movements/movement[@id='3']")
*.host[4].mobility.turtleScript = xmldoc("scenario1_waypoints.xml", "movements/movement[@id='4']")


# ==============================================================================
# Scenario 2: Dense 3x3 Grid with Buildings
# - 3 EW + 3 NS corridors, 15m wide, 100m spacing
# - 5 hosts
# - 25 buildings (60-150m tall)
# ==============================================================================
[Config Scenario2_Dense3x3WithBuildings]
extends = UrbanEnvBase
description = "Dense 3x3 corridor grid, 5 hosts, 25 buildings"

sim-time-limit = 300s
*.numHosts = 5

# Load building environment
*.physicalEnvironment.config = xmldoc("scenario2_buildings.xml")

# Load trajectories
*.host[0].mobility.turtleScript = xmldoc("scenario2_waypoints.xml", "movements/movement[@id='0']")
*.host[1].mobility.turtleScript = xmldoc("scenario2_waypoints.xml", "movements/movement[@id='1']")
*.host[2].mobility.turtleScript = xmldoc("scenario2_waypoints.xml", "movements/movement[@id='2']")
*.host[3].mobility.turtleScript = xmldoc("scenario2_waypoints.xml", "movements/movement[@id='3']")
*.host[4].mobility.turtleScript = xmldoc("scenario2_waypoints.xml", "movements/movement[@id='4']")


# ==============================================================================
# Scenario 3: Wide Corridors, Low Buildings
# - 2 EW + 2 NS corridors, 30m wide, 150m spacing
# - 3 hosts
# - 15 buildings (30-60m tall, larger footprint)
# ==============================================================================
[Config Scenario3_WideCorridorsLowBuildings]
extends = UrbanEnvBase
description = "Wide corridors, 3 hosts, 15 low buildings"

sim-time-limit = 300s
*.numHosts = 3

# Load building environment
*.physicalEnvironment.config = xmldoc("scenario3_buildings.xml")

# Load trajectories
*.host[0].mobility.turtleScript = xmldoc("scenario3_waypoints.xml", "movements/movement[@id='0']")
*.host[1].mobility.turtleScript = xmldoc("scenario3_waypoints.xml", "movements/movement[@id='1']")
*.host[2].mobility.turtleScript = xmldoc("scenario3_waypoints.xml", "movements/movement[@id='2']")


# ==============================================================================
# Scenario 4: Skyscraper District
# - 3 EW + 3 NS corridors, 18m wide, 90m spacing
# - 4 hosts
# - 20 buildings (120-250m tall)
# ==============================================================================
[Config Scenario4_SkyscraperDistrict]
extends = UrbanEnvBase
description = "Narrow corridors, 4 hosts, 20 tall skyscrapers"

sim-time-limit = 300s
*.numHosts = 4

# Load building environment
*.physicalEnvironment.config = xmldoc("scenario4_buildings.xml")

# Load trajectories
*.host[0].mobility.turtleScript = xmldoc("scenario4_waypoints.xml", "movements/movement[@id='0']")
*.host[1].mobility.turtleScript = xmldoc("scenario4_waypoints.xml", "movements/movement[@id='1']")
*.host[2].mobility.turtleScript = xmldoc("scenario4_waypoints.xml", "movements/movement[@id='2']")
*.host[3].mobility.turtleScript = xmldoc("scenario4_waypoints.xml", "movements/movement[@id='3']")


# ==============================================================================
# Scenario 2 variant: Without buildings (for comparison)
# ==============================================================================
[Config Scenario2_NoBuildingsComparison]
extends = UrbanEnvBase
description = "Same as Scenario2 but without buildings (for RSSI comparison)"

sim-time-limit = 300s
*.numHosts = 5

# No physical environment
*.physicalEnvironment.config = xml("<environment/>")

# Load same trajectories as Scenario2
*.host[0].mobility.turtleScript = xmldoc("scenario2_waypoints.xml", "movements/movement[@id='0']")
*.host[1].mobility.turtleScript = xmldoc("scenario2_waypoints.xml", "movements/movement[@id='1']")
*.host[2].mobility.turtleScript = xmldoc("scenario2_waypoints.xml", "movements/movement[@id='2']")
*.host[3].mobility.turtleScript = xmldoc("scenario2_waypoints.xml", "movements/movement[@id='3']")
*.host[4].mobility.turtleScript = xmldoc("scenario2_waypoints.xml", "movements/movement[@id='4']")
